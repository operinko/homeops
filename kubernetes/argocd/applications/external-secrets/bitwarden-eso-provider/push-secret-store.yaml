---
# SecretStore for pushing to Bitwarden via webhook
apiVersion: external-secrets.io/v1
kind: ClusterSecretStore
metadata:
  name: bitwarden-push
  namespace: bitwarden-external-secrets
spec:
  provider:
    webhook:
      url: "http://bitwarden-eso-provider.bitwarden-external-secrets.svc.cluster.local:8087/object/item/{{ .remoteRef.remoteKey }}"
      method: PUT
      headers:
        Content-Type: application/json
      # Body template - the secret data will be available in the template context
      body: |
        {{ index . "bitwarden-item" }}

