---
# Helm values for internal-dns deployment
provider:
  name: rfc2136
extraArgs:
  - --rfc2136-host=192.168.7.9
  - --rfc2136-port=53
  - --rfc2136-zone=vaderrp.com
  - --rfc2136-batch-change-size=50
  - --crd-source-apiversion=externaldns.k8s.io/v1alpha1
  - --crd-source-kind=DNSEndpoint
  - --annotation-filter=external-dns.alpha.kubernetes.io/ignore notin (true)
  - --events
env:
  - name: EXTERNAL_DNS_RFC2136_TSIG_KEYNAME
    valueFrom:
      secretKeyRef:
        name: internal-dns-secret
        key: tsig-name
  - name: EXTERNAL_DNS_RFC2136_TSIG_SECRET
    valueFrom:
      secretKeyRef:
        name: internal-dns-secret
        key: tsig-secret
  - name: EXTERNAL_DNS_RFC2136_TSIG_SECRET_ALG
    valueFrom:
      secretKeyRef:
        name: internal-dns-secret
        key: tsig-algorithm
policy: sync
sources: ["crd", "gateway-httproute"]
txtPrefix: k8s-int.
txtOwnerId: internal
domainFilters: ["vaderrp.com"]
serviceMonitor:
  enabled: true
image:
  repository: registry.k8s.io/external-dns/external-dns
  tag: "v0.20.0"
podAnnotations:
  secret.reloader.stakater.com/reload: internal-dns-secret
