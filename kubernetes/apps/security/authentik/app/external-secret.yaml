apiVersion: bitwarden.external-secrets.io/v1alpha1
kind: BitwardenSecret
metadata:
    name: authentik-secret
spec:
  namespace: security
  secrets:
    # Authentik DBs
    AUTHENTIK_POSTGRESQL__HOST:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_host
    AUTHENTIK_POSTGRESQL__NAME:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_name
    AUTHENTIK_POSTGRESQL__USER:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_user
    AUTHENTIK_POSTGRESQL__PASSWORD:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_pass
    AUTHENTIK_REDIS__PASSWORD:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: redis_pass
    AUTHENTIK_REDIS__DB:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: redis_db
    AUTHENTIK_SECRET_KEY:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: secret_key
    # Authentik SMTP
    AUTHENTIK_EMAIL__HOST:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: email_host
    AUTHENTIK_EMAIL__PORT:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: email_port
    AUTHENTIK_EMAIL__USERNAME:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: email_user
    AUTHENTIK_EMAIL__PASSWORD:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: email_pass
    AUTHENTIK_EMAIL__USE_SSL:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: email_use_ssl
    AUTHENTIK_EMAIL__FROM:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: email_from
    # Authentik Init DB
    INIT_POSTGRES_DBNAME:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_name
    INIT_POSTGRES_HOST:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_host
    INIT_POSTGRES_USER:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_user
    INIT_POSTGRES_PASS:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_pass
    INIT_POSTGRES_SUPER_PASS:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: psql_superpass
    # Homepage
    HOMEPAGE_VAR_AUTHENTIK_TOKEN:
      itemRef:
        id: e9152089-b309-403e-847d-88580eb573b8
        type: field
        property: homepage_token
