---
# Helm values for huntarr app-template deployment
controllers:
  main:
    containers:
      main:
        image:
          repository: huntarr/huntarr
          tag: 9.3.6@sha256:364c91535efe085ce30397a8a7b5085feec70e9da7dccf1252427885d80392b4
        env:
          TZ: Europe/Helsinki
          HUNTARR_SERVER_PORT: &port 9705
        envFrom:
          - secretRef:
              name: huntarr-secret
        resources:
          requests:
            cpu: 10m
            memory: 256Mi
          limits:
            memory: 768Mi
        securityContext:
          allowPrivilegeEscalation: false
          readOnlyRootFilesystem: true
          capabilities: { drop: ["ALL"] }
defaultPodOptions:
  securityContext:
    runAsNonRoot: true
    runAsUser: 568
    runAsGroup: 568
    fsGroup: 568
    supplementalGroups:
      - 100
    fsGroupChangePolicy: OnRootMismatch
    seccompProfile: { type: RuntimeDefault }
  dnsConfig:
    options:
      - name: ndots
        value: "1"
      - name: use-vc
      - name: single-request-reopen
service:
  app:
    controller: main
    ports:
      http:
        port: *port
persistence:
  config:
    existingClaim: huntarr
