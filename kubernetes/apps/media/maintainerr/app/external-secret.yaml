---
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: maintainerr-secret
  namespace: media
spec:
  refreshInterval: 1h
  target:
    name: maintainerr-secret
    creationPolicy: Owner
    deletionPolicy: Retain
  data:
    # Plex Token (reuse from existing secret)
    - secretKey: PLEX_TOKEN
      sourceRef:
        storeRef:
          name: bitwarden-login
          kind: ClusterSecretStore
      remoteRef:
        key: baa08325-98f8-438b-bda9-4d08bb160983
        property: password

    # Sonarr API Key
    - secretKey: SONARR_API_KEY
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: ce8b0e2a-c2a3-4ce9-89c9-ed71b8ef10f5
        property: apikey

    # Radarr API Key
    - secretKey: RADARR_API_KEY
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 38bba008-65c3-4366-9c94-517a4515ac3f
        property: apikey

    # Tautulli API Key
    - secretKey: TAUTULLI_API_KEY
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: eed8dbed-39bb-41d3-a2f3-21a7559d3eff
        property: apikey

    # Overseerr API Key
    - secretKey: OVERSEERR_API_KEY
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 7fc85fc5-a248-467c-9e6e-f991c7ad3685
        property: apikey
