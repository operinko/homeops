---
apiVersion: volsync.backube/v1alpha1
kind: ReplicationSource
metadata:
  name: sonarr
spec:
  sourcePVC: sonarr
  trigger:
    manual: backup-sonarr-1
  restic:
    # Use a local repository
    repository: sonarr-backup
    copyMethod: Direct
    storageClassName: mayastor-3-replicas
    # Reference the secret containing the password
    resticPassword:
      name: nfs-destination
      key: RESTIC_PASSWORD
---
apiVersion: volsync.backube/v1alpha1
kind: ReplicationSource
metadata:
  name: sonarr-cache
spec:
  sourcePVC: sonarr-cache
  trigger:
    manual: backup-sonarr-cache-1
  restic:
    # This references the secret containing the repository configuration
    repository: nfs-destination
    copyMethod: Direct
    storageClassName: mayastor-3-replicas
