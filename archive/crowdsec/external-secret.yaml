---
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: crowdsec-secret
  namespace: network
spec:
  refreshInterval: 1h
  target:
    name: crowdsec-secret
    creationPolicy: Owner
    deletionPolicy: Retain
  data:
    - secretKey: ENROLL_KEY
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 02acd2b6-5f2a-42f9-b768-f148a6d3e47b
        property: enroll_key
    - secretKey: ENROLL_INSTANCE_NAME
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 02acd2b6-5f2a-42f9-b768-f148a6d3e47b
        property: enroll_instance_name
    - secretKey: ENROLL_TAGS
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 02acd2b6-5f2a-42f9-b768-f148a6d3e47b
        property: enroll_tags
    - secretKey: BOUNCER_KEY_traefik
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 02acd2b6-5f2a-42f9-b768-f148a6d3e47b
        property: lapi_key
    - secretKey: csLapiSecret
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 02acd2b6-5f2a-42f9-b768-f148a6d3e47b
        property: lapi_key
    - secretKey: registrationToken
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 02acd2b6-5f2a-42f9-b768-f148a6d3e47b
        property: enroll_key
